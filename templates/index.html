{% extends "base.html" %}

{% block content %}
<div class="fade-in">
    <!-- Featured Posts -->
    <section class="featured-section">
        <div class="featured-grid">
            {% if featured_posts %}
            <div class="featured-main">
                <img src="https://picsum.photos/800/400?random=1" alt="{{ featured_posts[0].title }}">
                <div class="featured-content">
                    <span class="post-category">{{ featured_posts[0].category.name }}</span>
                    <h2 class="text-2xl font-bold text-white mt-2">{{ featured_posts[0].title }}</h2>
                    <p class="text-gray-200 mt-2">{{ featured_posts[0].content[:150] }}...</p>
                    <a href="{{ url_for('post_detail', post_id=featured_posts[0].id) }}" class="btn btn-primary mt-4">
                        Read More
                    </a>
                </div>
            </div>
            
            <div class="featured-side">
                {% for post in featured_posts[1:3] %}
                <div class="featured-side-item">
                    <span class="post-category">{{ post.category.name }}</span>
                    <h3 class="font-semibold mt-2">{{ post.title }}</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">{{ post.content[:100] }}...</p>
                    <a href="{{ url_for('post_detail', post_id=post.id) }}" class="text-blue-600 text-sm font-medium mt-2 inline-block">
                        Read More
                    </a>
                </div>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </section>

    <!-- Latest Posts -->
    <section class="latest-section">
        <h2 class="text-2xl font-bold mb-6">Latest Stories</h2>
        <div class="posts-grid">
            {% for post in latest_posts %}
            <div class="post-card">
                <img src="https://picsum.photos/400/200?random={{ post.id }}" alt="{{ post.title }}">
                <div class="post-content">
                    <div class="post-meta">
                        <span class="post-category">{{ post.category.name }}</span>
                        <span>{{ post.created_at.strftime('%b %d, %Y') }}</span>
                    </div>
                    <h3 class="post-title">{{ post.title }}</h3>
                    <p class="post-excerpt">{{ post.content[:120] }}...</p>
                    <div class="post-footer">
                        <span>By {{ post.author.username }}</span>
                        <a href="{{ url_for('post_detail', post_id=post.id) }}" class="btn btn-outline btn-sm">
                            Read More
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
</div>
{% endblock %}